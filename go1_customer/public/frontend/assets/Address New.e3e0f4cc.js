var h=(A,z,n)=>new Promise((v,y)=>{var m=d=>{try{r(n.next(d))}catch(i){y(i)}},b=d=>{try{r(n.throw(d))}catch(i){y(i)}},r=d=>d.done?v(d.value):Promise.resolve(d.value).then(m,b);r((n=n.apply(A,z)).next())});import{_ as j,a as L}from"./AppHeader.627012a4.js";import{Q as $,n as a,c as q,z as D,e as F,o as C,f as w,p as t,g as s,u as o,a1 as u,K as H}from"./vendor.8ee4b109.js";import"./index.868dd579.js";const I={class:"flex h-screen w-screen"},K={class:"h-full border-r bg-gray-50"},R={class:"flex-1 flex flex-col h-full overflow-auto"},W={class:"dashboard flex-1 overflow-auto px-28 py-10"},G={class:"bg-white border rounded-lg"},J={class:"grid pt-5 p-6 grid-cols-1 md:grid-cols-2 gap-6"},M={key:0,class:"grid grid-cols-1 p-6 md:grid-cols-2 gap-6"},Q={class:"flex justify-end gap-4 p-6"},le={__name:"Address New",setup(A){const z=$();a(!1);const n=a(""),v=a(""),y=a(!1),m=a(""),b=a(""),r=a(""),d=a(""),i=a(""),V=a(""),g=a(""),p=a(""),k=a(""),x=a(""),f=a(""),S=a(""),P=a(""),U=a("Customer"),N=()=>{n.value="",v.value="",m.value="",b.value="",r.value="",d.value="",i.value="",V.value="",g.value="",x.value="",f.value="",S.value="",P.value=""},B=()=>h(this,null,function*(){if(!f.value||!n.value||!v.value||!r.value||!V.value||!m.value){alert("Please fill in all required fields");return}const c={address_title:n.value,address_type:v.value,city:r.value,address_line1:m.value,address_line2:b.value,state:d.value,pincode:i.value,country:V.value,email_id:g.value,phone:x.value,gstin:f.value};p.value&&(c.links=[{link_doctype:U,link_name:p.value}]);try{const e=yield fetch("/api/resource/Address",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(c)});if(!e.ok){const _=yield e.text();throw new Error(`Error creating address: ${_}`)}z.push({name:"Addresses"})}catch(e){console.error("Error creating address:",e)}}),E=q({url:"go1_customer.go1_customer.api.api.getcustomer",auto:!0}),O=()=>h(this,null,function*(){try{y.value=!0;const c=yield E.fetch();k.value=c,console.log("Fetched data:",k.value),p.value=k.value[0],console.log("Link Name:",p.value)}catch(c){console.error("Error fetching data:",c)}finally{y.value=!1}});D(()=>{O()});const T=[{label:"Billing",value:"Billing"},{label:"Shipping",value:"Shipping"},{label:"Office",value:"Office"},{label:"Personal",value:"Personal"},{label:"Postal",value:"Postal"},{label:"Shop",value:"Shop"},{label:"Subsidiary",value:"Subsidiary"},{label:"Warehouse",value:"Warehouse"},{label:"Current",value:"Current"},{label:"Permanent",value:"Permanent"},{label:"Other",value:"Other"}];return(c,e)=>{const _=F("Button");return C(),w("div",I,[t("div",K,[s(j)]),t("div",R,[s(L),t("div",W,[t("div",G,[e[13]||(e[13]=t("div",{class:"h-12 px-6 border-b flex items-center"},[t("div",null,[t("p",{class:"text-2xl font-bold text-gray-800"},"Address")])],-1)),t("div",J,[t("div",null,[s(o(u),{type:"text",size:"md",variant:"subtle",label:"Address Title *",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),class:"mb-5",required:""},null,8,["modelValue"]),s(o(u),{type:"select",size:"md",options:T,variant:"subtle",label:"Address Type *",modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=l=>v.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"text",size:"md",variant:"subtle",label:"Address Line 1 *",modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=l=>m.value=l),class:"mb-5",required:""},null,8,["modelValue"]),s(o(u),{type:"text",size:"md",variant:"subtle",label:"Address Line 2",modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=l=>b.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"text",size:"md",variant:"subtle",label:"City *",modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=l=>r.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"text",size:"md",variant:"subtle",label:"State",modelValue:d.value,"onUpdate:modelValue":e[5]||(e[5]=l=>d.value=l),class:"mb-5"},null,8,["modelValue"])]),t("div",null,[s(o(u),{type:"text",size:"md",variant:"subtle",label:"Country *",modelValue:V.value,"onUpdate:modelValue":e[6]||(e[6]=l=>V.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"number",size:"md",variant:"subtle",label:"Postal Code",modelValue:i.value,"onUpdate:modelValue":e[7]||(e[7]=l=>i.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"email",size:"md",variant:"subtle",label:"Email",modelValue:g.value,"onUpdate:modelValue":e[8]||(e[8]=l=>g.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"number",size:"md",variant:"subtle",label:"Phone",modelValue:x.value,"onUpdate:modelValue":e[9]||(e[9]=l=>x.value=l),class:"mb-5"},null,8,["modelValue"]),s(o(u),{type:"text",size:"md",variant:"subtle",placeholder:"eg-33AAKFT6215C1ZH",label:"GSTIN *",modelValue:f.value,"onUpdate:modelValue":e[10]||(e[10]=l=>f.value=l),class:"mb-5"},null,8,["modelValue"])])]),p.value?(C(),w("div",M,[t("div",null,[s(o(u),{type:"text",size:"md",disabled:!0,variant:"subtle",label:"Link Doctype",modelValue:U.value,"onUpdate:modelValue":e[11]||(e[11]=l=>U.value=l)},null,8,["modelValue"])]),t("div",null,[s(o(u),{type:"text",size:"md",disabled:!0,variant:"subtle",label:"Link Name",modelValue:p.value,"onUpdate:modelValue":e[12]||(e[12]=l=>p.value=l)},null,8,["modelValue"])])])):H("",!0),t("div",Q,[s(_,{variant:"subtle",theme:"gray",size:"sm",label:"Discard",onClick:N}),s(_,{variant:"solid",theme:"gray",size:"sm",label:"Submit",onClick:B})])])])])])}}};export{le as default};
