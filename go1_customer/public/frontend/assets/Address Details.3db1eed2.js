var z=(A,k,v)=>new Promise((a,b)=>{var c=d=>{try{r(v.next(d))}catch(m){b(m)}},y=d=>{try{r(v.throw(d))}catch(m){b(m)}},r=d=>d.done?a(d.value):Promise.resolve(d.value).then(c,y);r((v=v.apply(A,k)).next())});import{_ as P,a as I}from"./AppHeader.627012a4.js";import{Q as J,R as L,n as s,c as O,z as G,e as H,o as h,f as w,p as o,g as t,J as K,K as B,u as n,a1 as i}from"./vendor.8ee4b109.js";import"./index.868dd579.js";const M={class:"flex h-screen w-screen"},Q={class:"h-full border-r bg-gray-50"},q={class:"flex-1 flex flex-col h-full overflow-auto"},F={class:"dashboard flex-1 overflow-auto px-28 py-10"},W={class:"bg-white border rounded-lg"},X={class:"flex border-b h-12 justify-between items-center p-6"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6 p-6"},Z={key:0,class:"flex justify-end gap-4 p-6"},te={__name:"Address Details",setup(A){const k=J(),v=L(),a=s(!1),b=s(""),c=s(""),y=s(""),r=s(""),d=s(""),m=s(""),f=s(""),V=s(""),g=s(""),_=s(""),x=s(""),U=s(""),C=s(""),j=s(""),S=O({url:"go1_customer.go1_customer.api.api.get_address",method:"get"}),D=[{label:"Billing",value:"Billing"},{label:"Shipping",value:"Shipping"}],E=()=>z(this,null,function*(){try{const p=v.params.id,u=(yield S.fetch()).data;if(Array.isArray(u)){const e=u.find($=>$.name===p);e&&(j.value=e.name,b.value=e.address_title,c.value=e.address_type,y.value=e.address_line1,r.value=e.address_line2,d.value=e.city,m.value=e.state,f.value=e.pincode,V.value=e.country,g.value=e.email_id,_.value=e.phone,x.value=e.gstin,U.value=e.links_doctype,C.value=e.link_name)}}catch(p){console.error("Error fetching address details:",p)}}),N=()=>{a.value=!0},T=()=>{a.value=!1,E()},R=()=>z(this,null,function*(){const p=v.params.id;if(!p)return;const l={address_title:b.value,address_type:c.value,address_line1:y.value,address_line2:r.value,city:d.value,state:m.value,pincode:f.value,country:V.value,email_id:g.value,phone:_.value,gstin:x.value,links_doctype:U.value,link_name:C.value};try{if(!(yield fetch(`/api/resource/Address/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok)throw new Error("Error updating address");a.value=!1,k.push({name:"Addresses"})}catch(u){console.error("Error updating address:",u)}});return G(()=>{E()}),(p,l)=>{const u=H("Button");return h(),w("div",M,[o("div",Q,[t(P)]),o("div",q,[t(I),o("div",F,[o("div",W,[o("div",X,[l[11]||(l[11]=o("div",null,[o("p",{class:"text-9xl font-bold text-gray-800"},"Address")],-1)),a.value?B("",!0):(h(),K(u,{key:0,variant:"solid",theme:"gray",size:"sm",label:"Edit",disabled:!1,onClick:N}))]),o("div",Y,[o("div",null,[t(n(i),{type:"text",size:"md",variant:"subtle",label:"Address Title",disabled:!a.value,modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"select",size:"md",options:D,disabled:!a.value,variant:"subtle",label:"Address Type",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"text",size:"md",variant:"subtle",label:"Address Line 1",disabled:!a.value,modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=e=>y.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"text",size:"md",variant:"subtle",label:"Address Line 2",disabled:!a.value,modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"text",size:"md",variant:"subtle",label:"City",disabled:!a.value,modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=e=>d.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"text",size:"md",variant:"subtle",label:"State",disabled:!a.value,modelValue:m.value,"onUpdate:modelValue":l[5]||(l[5]=e=>m.value=e),class:"mb-5"},null,8,["disabled","modelValue"])]),o("div",null,[t(n(i),{type:"text",size:"md",variant:"subtle",disabled:!a.value,label:"Country",modelValue:V.value,"onUpdate:modelValue":l[6]||(l[6]=e=>V.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"number",size:"md",variant:"subtle",disabled:!a.value,label:"Postal Code",modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=e=>f.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"email",size:"md",variant:"subtle",label:"Email",disabled:!a.value,modelValue:g.value,"onUpdate:modelValue":l[8]||(l[8]=e=>g.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"number",size:"md",variant:"subtle",disabled:!a.value,label:"Phone",modelValue:_.value,"onUpdate:modelValue":l[9]||(l[9]=e=>_.value=e),class:"mb-5"},null,8,["disabled","modelValue"]),t(n(i),{type:"text",size:"md",disabled:!a.value,variant:"subtle",label:"GSTIN",modelValue:x.value,"onUpdate:modelValue":l[10]||(l[10]=e=>x.value=e),class:"mb-5"},null,8,["disabled","modelValue"])])]),o("div",null,[a.value?(h(),w("div",Z,[t(u,{variant:"subtle",theme:"gray",size:"sm",label:"Discard",disabled:!1,onClick:T}),t(u,{variant:"solid",theme:"gray",size:"sm",label:"Submit",disabled:!1,onClick:R})])):B("",!0)])])])])])}}};export{te as default};
