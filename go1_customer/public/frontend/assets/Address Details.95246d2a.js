var k=(U,z,b)=>new Promise((a,p)=>{var c=n=>{try{r(b.next(n))}catch(m){p(m)}},f=n=>{try{r(b.throw(n))}catch(m){p(m)}},r=n=>n.done?a(n.value):Promise.resolve(n.value).then(c,f);r((b=b.apply(U,z)).next())});import{_ as I,a as L}from"./AppHeader.0f924273.js";import{E as O,F,n as t,c as G,P as H,o as h,f as j,p as i,g as d,v as J,z as K,u as o,j as A,K as S,Y as u}from"./vendor.fd1dc2a4.js";import"./index.b49b7efc.js";const M={class:"flex h-screen w-screen"},Y={class:"h-full border-r bg-gray-50"},q={class:"flex-1 flex flex-col h-full overflow-auto"},Q={class:"dashboard flex-1 overflow-auto px-28 py-10"},W={class:"bg-white border rounded-lg p-6"},X={class:"float-left mb-1 text-9xl font-bold text-gray-800 -mt-2"},Z={class:"text-9xl font-bold text-gray-600",style:{"font-size":"1rem"}},ee={class:"float-right mb-1"},le={class:"grid grid-cols-1 md:grid-cols-2 mt-5 gap-6"},ae={key:0,class:"flex justify-end gap-4 mt-4"},ie={__name:"Address Details",setup(U){const z=O(),b=F(),a=t(!1),p=t(""),c=t(""),f=t(""),r=t(""),n=t(""),m=t(""),y=t(""),g=t(""),V=t(""),_=t(""),x=t(""),E=t(""),C=t(""),B=t(""),D=G({url:"go1_customer.go1_customer.api.api.get_address",method:"get"}),N=[{label:"Billing",value:"Billing"},{label:"Shipping",value:"Shipping"}],w=()=>k(this,null,function*(){try{const v=b.params.id,l=(yield D.fetch()).data;if(Array.isArray(l)){const s=l.find(R=>R.name===v);s&&(B.value=s.name,p.value=s.address_title,c.value=s.address_type,f.value=s.address_line1,r.value=s.address_line2,n.value=s.city,m.value=s.state,y.value=s.pincode,g.value=s.country,V.value=s.email_id,_.value=s.phone,x.value=s.gstin,E.value=s.links_doctype,C.value=s.link_name)}}catch(v){console.error("Error fetching address details:",v)}}),T=()=>{a.value=!0},$=()=>{a.value=!1,w()},P=()=>k(this,null,function*(){const v=b.params.id;if(!v)return;const e={address_title:p.value,address_type:c.value,address_line1:f.value,address_line2:r.value,city:n.value,state:m.value,pincode:y.value,country:g.value,email_id:V.value,phone:_.value,gstin:x.value,links_doctype:E.value,link_name:C.value};try{if(!(yield fetch(`/api/resource/Address/${v}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Error updating address");a.value=!1,z.push({name:"Addresses"})}catch(l){console.error("Error updating address:",l)}});return H(()=>{w()}),(v,e)=>(h(),j("div",M,[i("div",Y,[d(I)]),i("div",q,[d(L),i("div",Q,[i("div",W,[i("div",X,[e[11]||(e[11]=i("p",null,"Address",-1)),i("p",Z,J(v.subject),1)]),i("div",ee,[a.value?S("",!0):(h(),K(o(A),{key:0,variant:"solid",theme:"gray",size:"md",label:"Edit",disabled:!1,onClick:T}))]),e[12]||(e[12]=i("div",{class:"border-b pb-7 pt-10"},null,-1)),i("div",le,[i("div",null,[d(o(u),{type:"text",size:"md",variant:"subtle",label:"Address Title",disabled:!a.value,modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"select",size:"md",options:N,disabled:!a.value,variant:"subtle",label:"Address Type",modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"text",size:"md",variant:"subtle",label:"Address Line 1",disabled:!a.value,modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=l=>f.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"text",size:"md",variant:"subtle",label:"Address Line 2",disabled:!a.value,modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"text",size:"md",variant:"subtle",label:"City",disabled:!a.value,modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=l=>n.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"text",size:"md",variant:"subtle",label:"State",disabled:!a.value,modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=l=>m.value=l),class:"mb-5"},null,8,["disabled","modelValue"])]),i("div",null,[d(o(u),{type:"text",size:"md",variant:"subtle",disabled:!a.value,label:"Country",modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=l=>g.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"number",size:"md",variant:"subtle",disabled:!a.value,label:"Postal Code",modelValue:y.value,"onUpdate:modelValue":e[7]||(e[7]=l=>y.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"email",size:"md",variant:"subtle",label:"Email",disabled:!a.value,modelValue:V.value,"onUpdate:modelValue":e[8]||(e[8]=l=>V.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"number",size:"md",variant:"subtle",disabled:!a.value,label:"Phone",modelValue:_.value,"onUpdate:modelValue":e[9]||(e[9]=l=>_.value=l),class:"mb-5"},null,8,["disabled","modelValue"]),d(o(u),{type:"text",size:"md",disabled:!a.value,variant:"subtle",label:"GSTIN",modelValue:x.value,"onUpdate:modelValue":e[10]||(e[10]=l=>x.value=l),class:"mb-5"},null,8,["disabled","modelValue"])])]),i("div",null,[a.value?(h(),j("div",ae,[d(o(A),{variant:"subtle",theme:"gray",size:"md",label:"Discard",disabled:!1,onClick:$}),d(o(A),{variant:"solid",theme:"gray",size:"md",label:"Submit",disabled:!1,onClick:P})])):S("",!0)])])])])]))}};export{ie as default};
